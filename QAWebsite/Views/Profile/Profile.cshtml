@model QAWebsite.Models.AccountViewModels.ProfileViewModel

@{
    ViewData["Title"] = "Profile";
}

<h2><i>@Html.DisplayFor(model => model.Username)</i><a asp-action="Suspend" class="btn btn-default">Suspend</a></h2>

<div>
    <p>

    </p>
    <div id="profileLeftContainer">
        @{var base64 = Convert.ToBase64String(@Model.UserImage);
            var imgSrc = String.Format("data:image/gif;base64,{0}", base64); }
        <img src="@imgSrc" alt="Employee Photo" class="userImage" />
    </div>
    <div id="profileRightContainer">
        <h3>@Html.DisplayNameFor(model => model.AboutMe)</h3>
        <div id="aboutMeContainer">
            <p>
                @Html.DisplayFor(model => model.AboutMe)
            </p>
        </div>
        <h3>Contact Information</h3>
        <div id="accountInfo">
            <p>
                @Html.DisplayNameFor(model => model.Email) :
                @Html.DisplayFor(model => model.Email)
            </p>
        </div>
        <h3>Reputation</h3>
        <div id="userReputation">
            <p>
                @Html.DisplayNameFor(model => model.Upvotes)
                @Html.DisplayFor(model => model.Upvotes)
                @Html.DisplayNameFor(model => model.Downvotes)
                @Html.DisplayFor(model => model.Downvotes)
            </p>
        </div>
        <h3>Recent Questions</h3>
        <div id="profileRecentQuestions">
            @{if (Model.QuestionList.Count > 0)
            {
                <table class="table">
                    <thead>
                        <tr>
                            <th>
                                @Html.DisplayNameFor(model => Model.QuestionList[0].Title)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => Model.QuestionList[0].CreationDate)
                            </th>
                        </tr>
                    </thead>
                    @foreach (var question in Model.QuestionList)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => question.Title)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => question.CreationDate)
                        </td>
                        <td>
                            @Html.ActionLink("Details", "Details", "Question", new { id = question.Id })
                        </td>
                    </tr>
            }
                </table>
        }
        else
        {
            <p>No question activity available for this user</p>
    }
            }
        </div>
    </div>
</div>